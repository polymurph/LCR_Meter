Version 4
SHEET 1 3572 1524
WIRE 1024 -208 928 -208
WIRE 1024 -192 1008 -192
WIRE 928 -160 928 -208
WIRE 928 -160 688 -160
WIRE 1136 -160 1088 -160
WIRE 1344 -160 1232 -160
WIRE -160 -128 -160 -160
WIRE -16 -128 -16 -160
WIRE 928 -128 928 -160
WIRE 1136 -112 1104 -112
WIRE 1024 -80 992 -80
WIRE 1008 -64 1008 -192
WIRE 1024 -64 1008 -64
WIRE 928 -48 928 -64
WIRE 992 -48 992 -80
WIRE 992 -48 928 -48
WIRE 1104 -32 1104 -112
WIRE 1104 -32 1088 -32
WIRE -160 -16 -160 -48
WIRE -160 -16 -240 -16
WIRE -16 -16 -16 -48
WIRE -16 -16 -160 -16
WIRE -160 0 -160 -16
WIRE 1008 0 1008 -64
WIRE 1008 0 720 0
WIRE -240 32 -240 -16
WIRE 1856 32 1824 32
WIRE 1968 32 1936 32
WIRE 2048 32 1968 32
WIRE 2224 32 2128 32
WIRE -160 128 -160 80
WIRE 240 144 160 144
WIRE 304 144 240 144
WIRE 416 144 384 144
WIRE 576 144 496 144
WIRE 576 160 576 144
WIRE 592 160 576 160
WIRE 688 160 688 -160
WIRE 688 160 672 160
WIRE 736 160 688 160
WIRE 160 176 160 144
WIRE 1968 192 1968 32
WIRE 1984 192 1968 192
WIRE 1344 208 1344 -160
WIRE 1488 208 1344 208
WIRE 2224 208 2224 32
WIRE 2224 208 2048 208
WIRE 2304 208 2224 208
WIRE 448 224 448 208
WIRE 464 224 464 208
WIRE 464 224 448 224
WIRE 1488 224 1344 224
WIRE 1696 224 1552 224
WIRE 1824 224 1696 224
WIRE 1936 224 1904 224
WIRE 1984 224 1936 224
WIRE 464 240 464 224
WIRE 736 240 736 160
WIRE 816 240 736 240
WIRE 816 256 736 256
WIRE 1344 256 1344 224
WIRE 1344 256 880 256
WIRE 160 288 160 256
WIRE 208 336 160 336
WIRE 304 336 208 336
WIRE 432 336 384 336
WIRE 560 336 512 336
WIRE 560 352 560 336
WIRE 592 352 560 352
WIRE 720 352 720 0
WIRE 720 352 672 352
WIRE 736 352 736 256
WIRE 736 352 720 352
WIRE 160 368 160 336
WIRE 1936 384 1936 224
WIRE 2000 384 1936 384
WIRE 2224 384 2224 208
WIRE 2224 384 2080 384
WIRE 464 416 464 400
WIRE 480 416 480 400
WIRE 480 416 464 416
WIRE 1936 416 1936 384
WIRE 2080 416 1936 416
WIRE 480 432 480 416
WIRE 1936 432 1936 416
WIRE 160 480 160 448
WIRE 1936 528 1936 496
WIRE 2080 544 2080 416
WIRE 2240 592 2144 592
WIRE 2352 592 2320 592
WIRE 2416 592 2352 592
WIRE 960 608 672 608
WIRE 1088 608 960 608
WIRE 1264 608 1184 608
WIRE 2416 640 2416 592
WIRE 240 656 240 144
WIRE 432 656 240 656
WIRE 592 656 496 656
WIRE 672 656 672 608
WIRE 672 656 592 656
WIRE 688 656 672 656
WIRE 1088 656 1040 656
WIRE 592 672 592 656
WIRE 2080 688 2080 640
WIRE 2416 736 2416 720
WIRE 592 768 592 752
WIRE 208 800 208 336
WIRE 432 800 208 800
WIRE 592 800 496 800
WIRE 1040 800 1040 656
WIRE 1040 800 592 800
WIRE 1840 848 1808 848
WIRE 1952 848 1920 848
WIRE 2032 848 1952 848
WIRE 2208 848 2112 848
WIRE 592 864 592 800
WIRE 1040 928 1040 800
WIRE 1088 928 1040 928
WIRE 1312 928 1184 928
WIRE 592 976 592 944
WIRE 960 976 960 608
WIRE 1088 976 960 976
WIRE 1952 1008 1952 848
WIRE 1968 1008 1952 1008
WIRE 2208 1024 2208 848
WIRE 2208 1024 2032 1024
WIRE 2320 1024 2208 1024
WIRE 1696 1040 1696 224
WIRE 1808 1040 1696 1040
WIRE 1920 1040 1888 1040
WIRE 1968 1040 1920 1040
WIRE 1920 1200 1920 1040
WIRE 1984 1200 1920 1200
WIRE 2208 1200 2208 1024
WIRE 2208 1200 2064 1200
WIRE 1920 1232 1920 1200
WIRE 2064 1232 1920 1232
WIRE 1920 1248 1920 1232
WIRE 1920 1344 1920 1312
WIRE 2064 1360 2064 1232
WIRE 2224 1408 2128 1408
WIRE 2352 1408 2352 592
WIRE 2352 1408 2304 1408
WIRE 2064 1504 2064 1456
FLAG -240 32 0
FLAG -160 -160 +5V
FLAG -160 128 -5V
FLAG 160 288 0
FLAG 160 480 0
FLAG 416 176 0
FLAG 448 112 +5V
FLAG 432 208 -5V
FLAG 464 240 0
FLAG 432 368 0
FLAG 464 304 +5V
FLAG 448 400 -5V
FLAG 480 432 0
FLAG 1824 32 0
FLAG 2016 176 +5V
FLAG 1936 528 0
FLAG 2080 688 0
FLAG 2416 736 0
FLAG 2016 240 -5V
FLAG 1808 848 0
FLAG 2000 992 +5V
FLAG 1920 1344 0
FLAG 2064 1504 0
FLAG 2000 1056 -5V
FLAG -16 -160 REF
FLAG 592 768 0
FLAG 592 976 0
SYMBOL voltage -160 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -160 -16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL res 400 160 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R13
SYMATTR Value 4k7
SYMBOL res 400 352 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R14
SYMATTR Value 4k7
SYMBOL Digital\\srflop 1184 -208 R0
SYMATTR InstName A6
SYMATTR SpiceLine Vhigh=5V
SYMBOL Digital\\inv 992 -128 R90
SYMATTR InstName A7
SYMATTR SpiceLine Vhigh=5V
SYMBOL Digital\\xor 864 208 R0
SYMATTR InstName A8
SYMATTR SpiceLine Vhigh=5V
SYMBOL res 688 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 1k
SYMBOL res 688 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 1k
SYMBOL Digital\\and 1056 -240 R0
SYMATTR InstName A9
SYMATTR SpiceLine Vhigh=5V
SYMBOL Digital\\and 1056 -112 R0
SYMATTR InstName A10
SYMATTR SpiceLine Vhigh=5V
SYMBOL voltage 160 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value SINE(0 1 1MEG 0 0 0)
SYMBOL voltage 160 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value SINE(0 1 1MEG 0 0 50)
SYMBOL Digital\\and 1520 176 R0
SYMATTR InstName A11
SYMATTR SpiceLine Vhigh=5V
SYMBOL Comparators\\LT1016 448 96 R0
SYMATTR InstName U5
SYMBOL Comparators\\LT1016 464 288 R0
SYMATTR InstName U4
SYMBOL res 1952 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 2144 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 1920 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res 2096 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL cap 1920 432 R0
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL Opamps\\ADA4807-4 2016 144 R0
SYMATTR InstName U2
SYMBOL npn 2144 544 M0
SYMATTR InstName Q1
SYMATTR Value BC847A
SYMBOL res 2336 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL voltage 2416 624 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(5 0 0.1m 10n 10n 0.09998m 0.12m 10)
SYMBOL res 1936 832 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL res 2128 832 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res 1904 1024 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 2080 1184 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL cap 1904 1248 R0
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL Opamps\\ADA4807-4 2000 960 R0
SYMATTR InstName U1
SYMBOL npn 2128 1360 M0
SYMATTR InstName Q2
SYMATTR Value BC847A
SYMBOL res 2320 1392 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL voltage -16 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 3
SYMBOL schottky 432 672 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value MMBD301LT1G
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 432 816 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value MMBD301LT1G
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 576 848 R0
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL res 576 656 R0
SYMATTR InstName R18
SYMATTR Value 10k
SYMBOL Digital\\srflop 1136 560 R0
SYMATTR InstName A1
SYMBOL Digital\\srflop 1136 880 R0
SYMATTR InstName A5
TEXT -264 552 Left 2 !.tran 1m
TEXT 1712 -56 Left 2 ;https://blog.hendriklipka.de/archives/2016/03/stairstep_gen_1.html
TEXT 1024 -256 Left 2 ;SN74LVC1G80DBVT
TEXT 1408 136 Left 2 ;SN74AUC1G08DBVR
TEXT 1600 320 Left 2 ;SN74AHCT1G04DBVT
TEXT 784 336 Left 2 ;SN74AHCT1G86DBVR
TEXT 392 24 Left 2 ;MAX9010EXT+T
TEXT 144 -8 Left 2 ;https://www.maximintegrated.com/content/dam/files/design/tools/modeling-simulation/spice/analog/amplifiers/comparators/MAX9010.lib
TEXT -536 800 Left 2 !.inc MMBD301LT1G.SP3
