Version 4
SHEET 1 3428 1072
WIRE 3024 -64 2960 -64
WIRE 3200 -64 3088 -64
WIRE 1232 -32 1232 -48
WIRE 2368 32 2272 32
WIRE 2576 32 2448 32
WIRE 2832 32 2576 32
WIRE 2960 32 2960 -64
WIRE 2960 32 2912 32
WIRE 3024 32 2960 32
WIRE 3200 32 3200 -64
WIRE 3200 32 3104 32
WIRE -288 80 -288 -32
WIRE -160 80 -160 -32
WIRE 928 80 800 80
WIRE 2576 80 2576 32
WIRE 1072 96 992 96
WIRE 1104 96 1072 96
WIRE 1232 96 1232 48
WIRE 1232 96 1168 96
WIRE 1248 96 1232 96
WIRE 1360 96 1328 96
WIRE 1456 96 1424 96
WIRE 1552 96 1520 96
WIRE 1744 96 1632 96
WIRE 640 112 400 112
WIRE 928 112 640 112
WIRE 1232 128 1232 96
WIRE 640 144 640 112
WIRE 2144 192 1984 192
WIRE 2272 192 2272 32
WIRE 2272 192 2208 192
WIRE 2352 192 2272 192
WIRE 2960 192 2960 32
WIRE 3024 192 2960 192
WIRE -288 208 -288 160
WIRE -288 208 -352 208
WIRE -160 208 -160 160
WIRE -160 208 -288 208
WIRE 2576 208 2576 144
WIRE 2576 208 2416 208
WIRE 3200 208 3200 32
WIRE 3200 208 3088 208
WIRE 3360 208 3200 208
WIRE 1424 224 1424 96
WIRE 1552 224 1424 224
WIRE 1824 224 1632 224
WIRE 1984 224 1984 192
WIRE 1984 224 1824 224
WIRE 2352 224 2304 224
WIRE 3024 224 2960 224
WIRE 1232 240 1232 208
WIRE -352 256 -352 208
WIRE 640 272 640 224
WIRE 640 272 624 272
WIRE 656 272 640 272
WIRE 800 272 800 80
WIRE 800 272 736 272
WIRE 864 272 800 272
WIRE 976 272 928 272
WIRE 1072 272 1072 96
WIRE 1072 272 1040 272
WIRE 2304 272 2304 224
WIRE 2576 272 2576 208
WIRE -288 288 -288 208
WIRE 3360 320 3360 208
WIRE 800 400 800 272
WIRE 912 400 800 400
WIRE 1072 400 1072 272
WIRE 1072 400 992 400
WIRE 2272 400 2272 192
WIRE 2368 400 2272 400
WIRE 2576 400 2576 336
WIRE 2576 400 2448 400
WIRE 2960 400 2960 224
WIRE 2960 400 2576 400
WIRE -288 448 -288 368
WIRE 3024 480 2976 480
WIRE 3216 480 3088 480
WIRE 1232 528 1232 512
WIRE 2384 576 2288 576
WIRE 2592 576 2464 576
WIRE 2848 576 2592 576
WIRE 2976 576 2976 480
WIRE 2976 576 2928 576
WIRE 3040 576 2976 576
WIRE 3216 576 3216 480
WIRE 3216 576 3120 576
WIRE 3360 576 3360 400
WIRE 3360 576 3216 576
WIRE 2592 624 2592 576
WIRE 928 656 800 656
WIRE 1072 672 992 672
WIRE 1104 672 1072 672
WIRE 1232 672 1232 608
WIRE 1232 672 1168 672
WIRE 1248 672 1232 672
WIRE 1360 672 1328 672
WIRE 1440 672 1440 576
WIRE 1440 672 1424 672
WIRE 1456 672 1440 672
WIRE 1536 672 1520 672
WIRE 1552 672 1536 672
WIRE 1744 672 1744 96
WIRE 1744 672 1632 672
WIRE 2032 672 1744 672
WIRE 640 688 400 688
WIRE 928 688 640 688
WIRE 1232 704 1232 672
WIRE 640 720 640 688
WIRE 2032 736 2032 672
WIRE 2160 736 2032 736
WIRE 2288 736 2288 576
WIRE 2288 736 2224 736
WIRE 2368 736 2288 736
WIRE 2976 736 2976 576
WIRE 3040 736 2976 736
WIRE 2592 752 2592 688
WIRE 2592 752 2432 752
WIRE 3216 752 3216 576
WIRE 3216 752 3104 752
WIRE 2368 768 2320 768
WIRE 3040 768 2976 768
WIRE 1536 800 1536 672
WIRE 1552 800 1536 800
WIRE 1824 800 1824 224
WIRE 1824 800 1632 800
WIRE 1232 816 1232 784
WIRE 2320 816 2320 768
WIRE 2592 816 2592 752
WIRE -288 848 -288 784
WIRE -32 848 -32 784
WIRE 640 848 640 800
WIRE 640 848 624 848
WIRE 656 848 640 848
WIRE 800 848 800 656
WIRE 800 848 736 848
WIRE 864 848 800 848
WIRE 976 848 928 848
WIRE 1072 848 1072 672
WIRE 1072 848 1040 848
WIRE 2288 944 2288 736
WIRE 2384 944 2288 944
WIRE 2592 944 2592 880
WIRE 2592 944 2464 944
WIRE 2976 944 2976 768
WIRE 2976 944 2592 944
WIRE -288 976 -288 928
WIRE -32 976 -32 928
WIRE 800 976 800 848
WIRE 912 976 800 976
WIRE 1072 976 1072 848
WIRE 1072 976 992 976
FLAG -352 256 0
FLAG -288 -32 +12V
FLAG 960 64 +12V
FLAG -288 448 -12V
FLAG 960 128 -12V
FLAG 624 272 0
FLAG 1232 240 0
FLAG -160 -32 +5V
FLAG 1232 816 0
FLAG 2384 176 +12V
FLAG 2384 240 -12V
FLAG 2304 272 0
FLAG 3056 176 +12V
FLAG 3056 240 -12V
FLAG 2400 720 +12V
FLAG 2400 784 -12V
FLAG 2320 816 0
FLAG 3072 720 +12V
FLAG 3072 784 -12V
FLAG -288 976 0
FLAG -32 976 0
FLAG -288 784 A
FLAG -32 784 B
FLAG 400 688 B
FLAG 400 112 A
FLAG 960 640 +12V
FLAG 960 704 -12V
FLAG 624 848 0
FLAG 1232 512 +5V
FLAG 1232 -48 +5V
SYMBOL voltage -288 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage -288 272 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL Digital\\inv 1360 32 R0
SYMATTR InstName A1
SYMATTR SpiceLine Vhigh=5
SYMBOL zener 864 288 R270
WINDOW 0 36 32 VTop 2
WINDOW 3 -4 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N750
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL zener 1040 256 R90
WINDOW 0 -4 32 VBottom 2
WINDOW 3 36 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N750
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 1008 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL res 752 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 2k2
SYMBOL cap 1168 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL res 1216 112 R0
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL voltage -160 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL Digital\\inv 1456 32 R0
SYMATTR InstName A2
SYMATTR SpiceLine Vhigh=5
SYMBOL res 1648 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 1344 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL cap 1168 656 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 10µ
SYMBOL res 1216 688 R0
SYMATTR InstName R9
SYMATTR Value 100k
SYMBOL Digital\\inv 1456 608 R0
SYMATTR InstName A4
SYMATTR SpiceLine Vhigh=5
SYMBOL res 1648 656 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res 1344 656 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res 1648 784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL res 624 128 R0
SYMATTR InstName R14
SYMATTR Value 100k
SYMBOL res 2464 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL res 2464 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName 10k
SYMATTR Value 5k
SYMBOL res 2928 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL res 3120 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 20k
SYMBOL res 2480 560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 10k
SYMBOL res 2480 928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 5k
SYMBOL res 2944 560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 10k
SYMBOL res 3136 560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 20k
SYMBOL cap 2208 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 100n
SYMBOL cap 2224 720 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 100n
SYMBOL cap 3088 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 1n
SYMBOL cap 3088 464 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 1n
SYMBOL voltage -288 832 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value SINE(0 10 200k 0 0 {phase})
SYMBOL voltage -32 832 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value SINE(0 10 200k 0 0 0 )
SYMBOL schottky 2560 80 R0
SYMATTR InstName D5
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 2560 272 R0
SYMATTR InstName D6
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 2576 624 R0
SYMATTR InstName D7
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 2576 816 R0
SYMATTR InstName D8
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL Opamps\\AD822 960 32 R0
SYMATTR InstName U1
SYMBOL Opamps\\AD822 2384 144 R0
SYMATTR InstName U3
SYMBOL Opamps\\AD822 2400 688 R0
SYMATTR InstName U4
SYMBOL Opamps\\AD822 3056 144 R0
SYMATTR InstName U5
SYMBOL Opamps\\AD822 3072 688 R0
SYMATTR InstName U6
SYMBOL res 3344 304 R0
SYMATTR InstName R23
SYMATTR Value 10k
SYMBOL res 1648 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL zener 864 864 R270
WINDOW 0 36 32 VTop 2
WINDOW 3 -4 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N750
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL zener 1040 832 R90
WINDOW 0 -4 32 VBottom 2
WINDOW 3 36 32 VTop 2
SYMATTR InstName D4
SYMATTR Value 1N750
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 1008 960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL res 752 832 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 2k2
SYMBOL res 624 704 R0
SYMATTR InstName R13
SYMATTR Value 100k
SYMBOL Opamps\\AD822 960 608 R0
SYMATTR InstName U2
SYMBOL Digital\\inv 1360 608 R0
SYMATTR InstName A3
SYMATTR SpiceLine Vhigh=5
SYMBOL res 1216 512 R0
SYMATTR InstName R16
SYMATTR Value 1Meg
SYMBOL res 1216 -48 R0
SYMATTR InstName R24
SYMATTR Value 1Meg
TEXT -416 608 Left 2 !.lib MMBD301LT1G.SP3
TEXT -418 1026 Left 2 !.tran 0 1.2m 1m
TEXT -568 680 Left 2 ;.step param phase list 0 1 45 90 135 180 -1 -45 -90 -135 -180
TEXT -560 640 Left 2 !.param phase 90
